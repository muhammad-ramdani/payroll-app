import{j as e,L as b,S as f}from"./app-yxEi3xJe.js";import{B as S}from"./app-logo-icon-CXNx6eOd.js";import{T as y,a as g,b as l,c as t,d as T,e as i}from"./table-DtoZaXGU.js";import{A as N,t as w}from"./app-layout-BmWLcPuv.js";function v({userShifts:s,otherShifts:r,sentRequests:d,globalPendingShiftIds:u}){const c=[...s,...r],h=new Set(s.map(a=>a.shift_type)),o=new Set(d.map(a=>a.target_shift_id)),m=new Set(u),p=a=>{f.post("/swap-requests",{shift_id:a},{onSuccess:()=>w.success("Berhasil Meminta tukar shift",{action:{label:"Tutup",onClick:()=>{}}})})};return e.jsxs(N,{breadcrumbs:[{title:"Shift Kerja",href:"/"}],children:[e.jsx(b,{title:"Shift Kerja"}),e.jsxs("div",{className:"m-4 space-y-8",children:[e.jsx("div",{className:"space-y-2",children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(y,{children:[e.jsx(g,{children:e.jsxs(l,{children:[e.jsx(t,{children:"Shift"}),e.jsx(t,{children:"Pemilik"}),e.jsx(t,{children:"Aksi"})]})}),e.jsx(T,{children:c.map(a=>{const n=s.some(j=>j.id===a.id),k=o.has(a.id),x=a.shift_type==="Pagi"?"text-blue-500":"text-yellow-500";return e.jsxs(l,{children:[e.jsx(i,{className:x,children:a.shift_type}),e.jsx(i,{children:a.user.name}),e.jsxs(i,{children:[n&&e.jsx("span",{className:"text-neutral-400 dark:text-neutral-500",children:"Shift Saya"}),k?e.jsx("span",{className:"text-neutral-400 dark:text-neutral-500",children:"Menunggu Persetujuan"}):!n&&!h.has(a.shift_type)&&e.jsx(S,{onClick:()=>p(a.id),disabled:m.size>0,children:"Minta Tukar Shift"})]})]},a.id)})})]})})}),e.jsxs("div",{className:"space-y-2 text-neutral-400 dark:text-neutral-500",children:[e.jsx("p",{className:"text-sm font-semibold",children:"Catatan:"}),e.jsxs("ul",{className:"ml-5 list-disc space-y-1 text-sm",children:[e.jsx("li",{children:"Perhatian: Pertukaran shift untuk presensi hari ini tidak bisa dilakukan setelah pukul 06:30 pagi, karena data di sistem presensi tidak akan ikut berubah. Silakan lakukan pertukaran sebelum pukul 06:30 atau pada hari sebelumnya. Untuk pertukaran shift hari esok, bisa dilakukan setelah pukul 06:30 hari ini."}),e.jsx("li",{children:"Jika ingin menukar shift, harap komunikasikan terlebih dahulu dengan pemilik shift sebelum Anda menekan tombol 'Minta Tukar'. Setelah tombol 'Minta Tukar' ditekan, pemilik shift perlu memberikan persetujuan dengan menekan tombol 'Boleh' agar pertukaran shift berhasil diproses."})]})]})]})]})}export{v as default};
